{"version":3,"sources":["src/app.js","src/app/colorblindsim.js","src/app/wcag-sRGB-contrast.js","src/app/convert.js","src/app/types.js","src/app/color-card.js","src/app/swatch-card.js","src/app/b64.js","src/app/settings.js","src/app/code.js"],"names":["rBlind","protan","cpu","cpv","am","ayi","deutan","tritan","fBlind","Normal","v","Protanopia","blindMK","Protanomaly","anomylize","Deuteranopia","Deuteranomaly","Tritanopia","Tritanomaly","Achromatopsia","monochrome","Achromatomaly","powGammaLookup","Array","i","rgb","t","wx","wy","wz","b","g","r","cr","cg","callback","cx","cy","cz","sumXYZ","cu","cv","nx","nz","clm","dy","clyi","du","dv","sx","sy","sz","sr","sg","sb","dx","dz","dr","dg","database","adjr","adjg","adjb","adjust","Math","max","inversePow","a","d","Number","z","round","contrast","c0","c1","offset","luma0","sRGBRelativeLuminance","luma1","color","threshold","low","x","high","coefficients","colorValues","reduce","accumulator","value","index","hexToArray","parseInt","slice","arrayToHex","colorArray","red","toString","green","blue","hexToB64","btoa","String","fromCharCode","b64ToHex","string","atob","charCodeAt","types","className","extra","longName","shortName","settable","template","document","querySelector","colors","ColorCard","[object Object]","element","card","this","append","content","cloneNode","lastElementChild","addEventListener","remove","fixed","Object","defineProperties","_bg","writable","_text","_cache","bgInput","name","samples","querySelectorAll","textInput","bgBaseProperty","bgHiddenProperty","textBaseProperty","textHiddenProperty","type","bgProperty","textProperty","contrastProperty","update","event","bg","target","dispatchEvent","CustomEvent","text","Event","state","replace","matches","style","innerHTML","toPrecision","targets","SwatchCard","color0","color1","elements","push","scrollIntoView","defineProperty","updateTrigger","leave","removeEventListener","textContent","b64","settings","_form","_inputs","_modal","_showNormal","_showDeuteranopia","_showProtanopia","_showTritanopia","_showAchromatopsia","length","input","getAttribute","checked","sync","$","modal","on","reset","showNormal","showDeuteranopia","showProtanopia","showTritanopia","showAchromatopsia","newState","indexOf","Boolean","documentElement","classList","add","defaultChecked","defaultValue","normalize","s","toLowerCase","generateCSSProperties","items","ret","entry","item","generateCSSClasses","getClass","generateSASS","getEntry","generateLESS","colorCards","swatchCards","cache","cssPropertiesCode","cssClassesCode","sassCode","lessCode","applyState","fragment","window","location","hash","split","default","first","escapeHTML","unsafe","init","splice","contains","history","pushState"],"mappings":"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","file":"app.js","sourcesContent":["import {ColorCard} from './app/color-card.js'\nimport {SwatchCard} from './app/swatch-card.js'\nimport {settings} from './app/settings.js'\nimport {\n    generateCSSProperties,\n    generateCSSClasses,\n    generateSASS,\n    generateLESS,\n} from './app/code.js'\n\nlet colorCards = []\nconst swatchCards = []\nconst cache = {\n    cssPropertiesCode: document.querySelector('#cssPropsData'),\n    cssClassesCode: document.querySelector('#cssClassesData'),\n    sassCode: document.querySelector('#sassData'),\n    lessCode: document.querySelector('#lessData'),\n}\n\nfunction applyState() {\n    const fragment = window.location.hash.slice(1).split(';')\n\n    if (fragment.length <= 0) {\n        settings.state = settings.default\n    } else {\n        settings.state = fragment[0]\n    }\n\n    for (const card of colorCards) {\n        card.remove()\n    }\n\n    colorCards = []\n    colorCards.push(new ColorCard(document.querySelector('#baseColors')))\n\n    if (fragment.length > 1) {\n        let first = true\n\n        for (const state of fragment.slice(1)) {\n            if (state === '') continue\n\n            if (first) {\n                colorCards[0].state = state\n                first = false\n            } else {\n                const card = new ColorCard()\n\n                for (const color of colorCards) {\n                    swatchCards.push(new SwatchCard(card, color))\n                }\n\n                colorCards.push(card)\n                card.state = state\n            }\n        }\n    }\n}\n\nfunction escapeHTML(unsafe) {\n    return unsafe\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\")\n        .replace(/'/g, \"&#039;\");\n}\n\nsettings.init()\n\ndocument.querySelector('#addColor').addEventListener('click', () => {\n    const card = new ColorCard()\n\n    for (const color of colorCards) {\n        swatchCards.push(new SwatchCard(card, color))\n    }\n\n    colorCards.push(card)\n    card.element.scrollIntoView(true)\n\n    document.dispatchEvent(new CustomEvent('updateState'))\n})\n\ndocument.querySelector('#colors').leave('.card', (element) => {\n    let target = null\n\n    for (const card of colorCards) {\n        if (card.element === element) {\n            target = card\n            break\n        }\n    }\n\n    if (!target) return true\n\n    const index = colorCards.indexOf(target)\n    if (index !== -1) colorCards.splice(index, 1)\n\n    document.dispatchEvent(new CustomEvent('updateState'))\n})\n\ndocument.querySelector('#charts .type-normal').leave('.card', (element) => {\n    let target = null\n\n    for (const card of swatchCards) {\n        if (card.elements.contains(element)) {\n            target = card\n            break\n        }\n    }\n\n    if (!target) return true\n\n    const index = swatchCards.indexOf(target)\n    if (index !== -1) swatchCards.splice(index, 1)\n})\n\n$(document.querySelector('#codeModal')).on('show.bs.modal', () => {\n    cache.cssPropertiesCode.innerHTML = escapeHTML(generateCSSProperties(colorCards))\n    cache.cssClassesCode.innerHTML = escapeHTML(generateCSSClasses(colorCards))\n    cache.sassCode.innerHTML = escapeHTML(generateSASS(colorCards))\n    cache.lessCode.innerHTML = escapeHTML(generateLESS(colorCards))\n})\n\ndocument.addEventListener('updateState', () => {\n    let fragment = `#${settings.state};`\n\n    for (const card of colorCards) {\n        fragment = `${fragment}${card.state};`\n    }\n\n    history.pushState(null, '', fragment)\n})\n\nwindow.addEventListener('popstate', () => {\n    applyState()\n})\n\nwindow.addEventListener('hashchange', () => {\n    applyState()\n})\n\napplyState()\n","/*\n * The Color Blind Simulation function is\n * copyright (c) 2000-2001 by Matthew Wickline and the\n * Human-Computer Interaction Resource Network ( http://hcirn.com/ ).\n */\n\nconst rBlind = {\n    protan: {cpu: 0.735, cpv: 0.265, am: 1.273463, ayi: -0.073894},\n    deutan: {cpu: 1.14, cpv: -0.14, am: 0.968437, ayi: 0.003331},\n    tritan: {cpu: 0.171, cpv: -0.003, am: 0.062921, ayi: 0.292119}}\n\nexport const fBlind = {\n    Normal: function(v) { return (v) },\n    Protanopia: function(v) { return (blindMK(v, 'protan')) },\n    Protanomaly: function(v) { return (anomylize(v, blindMK(v, 'protan'))) },\n    Deuteranopia: function(v) { return (blindMK(v, 'deutan')) },\n    Deuteranomaly: function(v) { return (anomylize(v, blindMK(v, 'deutan'))) },\n    Tritanopia: function(v) { return (blindMK(v, 'tritan')) },\n    Tritanomaly: function(v) { return (anomylize(v, blindMK(v, 'tritan'))) },\n    Achromatopsia: function(v) { return (monochrome(v)) },\n    Achromatomaly: function(v) { return (anomylize(v, monochrome(v))) },\n}\n\nconst powGammaLookup = new Array(256);\n\n(function() {\n    let i\n    for (i = 0; i < 256; i++) {\n        powGammaLookup[i] = (i / 255) ** 2.2\n    }\n})()\n\nfunction blindMK(rgb, t) {\n    const wx = 0.312713\n    const wy = 0.329016\n    const wz = 0.358271\n\n    const b = rgb[2]\n    const g = rgb[1]\n    const r = rgb[0]\n\n    const cr = powGammaLookup[r]\n    const cg = powGammaLookup[g]\n    const callback = powGammaLookup[b]\n    // rgb -> xyz\n    const cx = (0.430574 * cr + 0.34155 * cg + 0.178325 * callback)\n    const cy = (0.222015 * cr + 0.706655 * cg + 0.07133 * callback)\n    const cz = (0.020183 * cr + 0.129553 * cg + 0.93918 * callback)\n\n    const sumXYZ = cx + cy + cz\n    let cu = 0\n    let cv = 0\n\n    if (sumXYZ !== 0) {\n        cu = cx / sumXYZ\n        cv = cy / sumXYZ\n    }\n\n    const nx = wx * cy / wy\n    const nz = wz * cy / wy\n    let clm\n    const dy = 0\n\n    if (cu < rBlind[t].cpu) {\n        clm = (rBlind[t].cpv - cv) / (rBlind[t].cpu - cu)\n    } else {\n        clm = (cv - rBlind[t].cpv) / (cu - rBlind[t].cpu)\n    }\n\n    const clyi = cv - cu * clm\n    const du = (rBlind[t].ayi - clyi) / (clm - rBlind[t].am)\n    const dv = (clm * du) + clyi\n\n    const sx = du * cy / dv\n    const sy = cy\n    const sz = (1 - (du + dv)) * cy / dv\n    // xzy->rgb\n    let sr = (3.063218 * sx - 1.393325 * sy - 0.475802 * sz)\n    let sg = (-0.969243 * sx + 1.875966 * sy + 0.041555 * sz)\n    let sb = (0.067871 * sx - 0.228834 * sy + 1.069251 * sz)\n\n    const dx = nx - sx\n    const dz = nz - sz\n    // xzy->rgb\n    const dr = (3.063218 * dx - 1.393325 * dy - 0.475802 * dz)\n    const dg = (-0.969243 * dx + 1.875966 * dy + 0.041555 * dz)\n    const database = (0.067871 * dx - 0.228834 * dy + 1.069251 * dz)\n\n    const adjr = dr ? ((sr < 0 ? 0 : 1) - sr) / dr : 0\n    const adjg = dg ? ((sg < 0 ? 0 : 1) - sg) / dg : 0\n    const adjb = database ? ((sb < 0 ? 0 : 1) - sb) / database : 0\n\n    const adjust = Math.max(\n        ((adjr > 1 || adjr < 0) ? 0 : adjr),\n        ((adjg > 1 || adjg < 0) ? 0 : adjg),\n        ((adjb > 1 || adjb < 0) ? 0 : adjb)\n    )\n\n    sr = sr + (adjust * dr)\n    sg = sg + (adjust * dg)\n    sb = sb + (adjust * database)\n\n    return ([inversePow(sr), inversePow(sg), inversePow(sb)])\n}\n\nfunction inversePow(v) {\n    return (255 * (v <= 0 ? 0 : v >= 1 ? 1 : v ** (1 / 2.2)))\n}\n\nfunction anomylize(a, b) {\n    const v = 1.75; const d = Number(v) + 1\n\n    return ([\n        (v * b[0] + Number(a[0])) / d,\n        (v * b[1] + Number(a[1])) / d,\n        (v * b[2] + Number(a[2])) / d,\n    ])\n}\n\nfunction monochrome(r) {\n    const z = Math.round(r[0] * 0.299 + r[1] * 0.587 + r[2] * 0.114)\n    return ([z, z, z])\n}\n","/*\n * WCAG contrast ration calculation function.\n */\n\nexport function contrast(c0, c1) {\n    const offset = 0.05\n    const luma0 = sRGBRelativeLuminance(c0)\n    const luma1 = sRGBRelativeLuminance(c1)\n\n    return luma0 > luma1 ? (luma0 + offset) / (luma1 + offset) : (luma1 + offset) / (luma0 + offset)\n}\n\nfunction sRGBRelativeLuminance(color) {\n    const threshold = 0.03928\n    const low = (x) => x / 12.92\n    const high = (x) => ((x + 0.055) / 1.055) ** 2.4\n    const coefficients = [\n        0.2126,\n        0.7152,\n        0.0722,\n    ]\n    const colorValues = [\n        color[0],\n        color[1],\n        color[2],\n    ]\n\n    for (let i = 0; i < 3; i++) {\n        colorValues[i] = colorValues[i] / 255\n        colorValues[i] = colorValues[i] <= threshold ? low(colorValues[i]) : high(colorValues[i])\n    }\n\n    return colorValues.reduce((accumulator, value, index) => {\n        accumulator += (coefficients[index] * value)\n        return accumulator\n    }, 0)\n}\n","/*\n * Convert between different color formats.\n */\n\n/*\n * Converts from #RRGGBB format to an array of RGB values.\n */\nexport function hexToArray(color) {\n    return [\n        parseInt(color.slice(1, 3), 16),\n        parseInt(color.slice(3, 5), 16),\n        parseInt(color.slice(5, 7), 16),\n    ]\n}\n\n/*\n * Converts from an array of RGB values to #RRGGBB format.\n */\nexport function arrayToHex(colorArray) {\n    const red = `00${colorArray[0].toString(16)}`.slice(-2)\n    const green = `00${colorArray[1].toString(16)}`.slice(-2)\n    const blue = `00${colorArray[2].toString(16)}`.slice(-2)\n\n    return `#${red}${green}${blue}`\n}\n\n/*\n * Converts from #RRGGBB format to Base64.\n */\nexport function hexToB64(color) {\n    color = hexToArray(color)\n\n    return btoa(`${String.fromCharCode(color[0])}${String.fromCharCode(color[1])}${String.fromCharCode(color[2])}`)\n}\n\n/*\n * Convert from Base64 to #RRGGBB format.\n */\nexport function b64ToHex(color) {\n    const string = atob(color)\n\n    return arrayToHex([\n        string.charCodeAt(0),\n        string.charCodeAt(1),\n        string.charCodeAt(2),\n    ])\n}\n","/*\n * Static definition of the vision types we're modeling.\n */\n\nexport const types = [\n    {\n        className: 'type-normal',\n        extra: '',\n        longName: 'Normal Vision',\n        shortName: '',\n        settable: true,\n    },\n    {\n        className: 'type-deuteranopia',\n        extra: 'red-green color blindness',\n        longName: 'Deuteranopia',\n        shortName: 'Deuteran',\n    },\n    {\n        className: 'type-protanopia',\n        extra: 'red-green color blindness',\n        longName: 'Protanopia',\n        shortName: 'Protan',\n    },\n    {\n        className: 'type-tritanopia',\n        extra: 'blue-yellow color blindness',\n        longName: 'Tritanopia',\n        shortName: 'Tritan',\n    },\n    {\n        className: 'type-achromat',\n        extra: 'total color blindness',\n        longName: 'Achromatopsia',\n        shortName: 'Achromat',\n    },\n]\n","/* JS code for handling a color card in the theme. */\n\nimport {fBlind} from './colorblindsim.js'\nimport {contrast} from './wcag-sRGB-contrast.js'\nimport {\n    hexToArray,\n    arrayToHex,\n    hexToB64,\n    b64ToHex,\n} from './convert.js'\nimport {types} from './types.js'\n\nconst template = document.querySelector('#colorCard')\nconst colors = document.querySelector('#colors')\n\nexport class ColorCard {\n    constructor(element) {\n        const card = this\n\n        if (!element) {\n            colors.append(template.content.cloneNode(true))\n\n            element = colors.lastElementChild\n\n            element.querySelector('.close').addEventListener('click', () => {\n                element.remove()\n            })\n            this.fixed = false\n        } else {\n            this.fixed = true\n        }\n\n        Object.defineProperties(this, {\n            _bg: {\n                value: '#ffffff',\n                writable: true,\n            },\n\n            _text: {\n                value: '#000000',\n                writable: true,\n            },\n\n            _cache: {\n                value: {\n                    bgInput: element.querySelector('.bg-color'),\n                    name: element.querySelector('.color-name'),\n                    samples: element.querySelectorAll('.sample-text > div'),\n                    textInput: element.querySelector('.text-color'),\n                },\n            },\n\n            element: {\n                value: element,\n            },\n        })\n\n        const bgBaseProperty = `bg${types[0].shortName}`\n        const bgHiddenProperty = `_${bgBaseProperty}`\n        const textBaseProperty = `text${types[0].shortName}`\n        const textHiddenProperty = `_${textBaseProperty}`\n\n        for (const type of types) {\n            const bgProperty = `bg${type.shortName}`\n            const textProperty = `text${type.shortName}`\n            const contrastProperty = `contrast${type.shortName}`\n\n            Object.defineProperties(this, {\n                [bgProperty]: {\n                    get() {\n                        if (type.settable) {\n                            return this[bgHiddenProperty]\n                        } else {\n                            return arrayToHex(fBlind[type.longName](hexToArray(this[bgBaseProperty])))\n                        }\n                    },\n                    set(v) {\n                        if (type.settable && v !== this[bgHiddenProperty]) {\n                            this[bgHiddenProperty] = v\n                            this.update()\n                        }\n                    },\n                },\n\n                [textProperty]: {\n                    get() {\n                        if (type.settable) {\n                            return this[textHiddenProperty]\n                        } else {\n                            return arrayToHex(fBlind[type.longName](hexToArray(this[textBaseProperty])))\n                        }\n                    },\n                    set(v) {\n                        if (type.settable && v !== this[textHiddenProperty]) {\n                            this[textHiddenProperty] = v\n                            this.update()\n                        }\n                    },\n                },\n\n                [contrastProperty]: {\n                    get() {\n                        return contrast(\n                            hexToArray(this[bgProperty]),\n                            hexToArray(this[textProperty]),\n                        )\n                    },\n                },\n            })\n        }\n\n        this._cache.bgInput.addEventListener('change', (event) => {\n            card.bg = event.target.value\n            document.dispatchEvent(new CustomEvent('updateState'))\n        })\n\n        this._cache.textInput.addEventListener('change', (event) => {\n            card.text = event.target.value\n            document.dispatchEvent(new CustomEvent('updateState'))\n        })\n\n        this._cache.name.addEventListener('change', () => {\n            card.element.dispatchEvent(new Event('change'))\n            document.dispatchEvent(new CustomEvent('updateState'))\n        })\n\n        this.update()\n    }\n\n    get name() {\n        return this._cache.name.value\n    }\n\n    set name(v) {\n        this._cache.name.value = v\n    }\n\n    get state() {\n        const bg = hexToB64(this.bg)\n        const text = hexToB64(this.text)\n\n        const state = `${bg}${text}`\n            .replace(/\\//g, '_')\n            .replace(/\\+/g, '-')\n\n        return `${state}${this.fixed ? '' : this.name}`\n    }\n\n    set state(v) {\n        const colors = v.slice(0, 8)\n            .replace(/_/g, '/')\n            .replace(/-/g, '+')\n\n        this.bg = b64ToHex(colors.slice(0, 4))\n        this.text = b64ToHex(colors.slice(4, 8))\n\n        if (!this.fixed) {\n            this.name = v.slice(8)\n        }\n\n        this.update()\n    }\n\n    remove() {\n        if (!this.fixed) {\n            this.element.remove()\n        }\n    }\n\n    update() {\n        this._cache.bgInput.value = this.bg\n        this._cache.textInput.value = this.text\n\n        for (const element of this._cache.samples) {\n            for (const type of types) {\n                if (element.matches(`.${type.className}`)) {\n                    element.style['color'] = this[`text${type.shortName}`]\n                    element.style['background-color'] = this[`bg${type.shortName}`]\n                    element.innerHTML = `${type.longName}<br />Contrast ratio: ${this[`contrast${type.shortName}`].toPrecision(4)}`\n                    break\n                }\n            }\n        }\n\n        this.element.dispatchEvent(new Event('change'))\n    }\n}\n","/*\n * Handling for the color comparison cards.\n */\n\nimport {types} from './types.js'\nimport {contrast} from './wcag-sRGB-contrast.js'\nimport {hexToArray} from './convert.js'\n\nconst targets = document.querySelectorAll('#charts > div.card-columns')\nconst template = document.querySelector('#swatchCard')\n\nexport class SwatchCard {\n    constructor(color0, color1) {\n        const card = this\n        const elements = []\n\n        for (const target of targets) {\n            target.append(template.content.cloneNode(true))\n\n            const element = target.lastElementChild\n\n            elements.push(element)\n\n            element.querySelector('.swatch-0').addEventListener('click', () => {\n                card.color0.element.scrollIntoView(true)\n            })\n\n            element.querySelector('.swatch-1').addEventListener('click', () => {\n                card.color1.element.scrollIntoView(true)\n            })\n        }\n\n        Object.defineProperties(this, {\n            color0: {\n                value: color0,\n            },\n\n            color1: {\n                value: color1,\n            },\n\n            elements: {\n                value: elements,\n            },\n        })\n\n        for (const type of types) {\n            Object.defineProperty(this, `contrast${type.shortName}`, {\n                get() {\n                    return contrast(\n                        hexToArray(this.color0[`bg${type.shortName}`]),\n                        hexToArray(this.color1[`bg${type.shortName}`]),\n                    )\n                },\n            })\n        }\n\n        function updateTrigger() {\n            card.update()\n        }\n\n        this.color0.element.addEventListener('change', updateTrigger)\n        this.color1.element.addEventListener('change', updateTrigger)\n\n        document.querySelector('#colors').leave('.card', (element) => {\n            if (element === this.color0.element || element === this.color1.element) {\n                this.color0.element.removeEventListener('change', updateTrigger)\n                this.color1.element.removeEventListener('change', updateTrigger)\n\n                for (const element of this.elements) {\n                    element.remove()\n                }\n            }\n        })\n\n        this.update()\n    }\n\n    update() {\n        for (const element of this.elements) {\n            element.querySelector('.swatch-name').textContent = `${this.color0.name} / ${this.color1.name}`\n\n            for (const type of types) {\n                if (element.matches(`.${type.className} .card`)) {\n                    element.querySelector('.swatch-contrast').textContent = `Contrast ratio: ${this[`contrast${type.shortName}`].toPrecision(4)}`\n                    element.querySelector('.swatch-0').style['background-color'] = this.color0[`bg${type.shortName}`]\n                    element.querySelector('.swatch-1').style['background-color'] = this.color1[`bg${type.shortName}`]\n                    break\n                }\n            }\n        }\n    }\n}\n","/*\n * The base64 alphabet.\n */\n\nexport const b64 = [\n    'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H',\n    'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P',\n    'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X',\n    'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f',\n    'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n',\n    'o', 'p', 'q', 'r', 's', 't', 'u', 'v',\n    'w', 'x', 'y', 'z', '0', '1', '2', '3',\n    '4', '5', '6', '7', '8', '9', '-', '_',\n]\n\nexport const b64pad = '='\n","/*\n * Handling for app settings.\n */\n\nimport {b64} from './b64.js'\n\nexport const settings = {\n    init() {\n        this._form = document.querySelector('#settingsForm')\n        this._inputs = this._form.querySelectorAll('input[data-target]')\n        this._modal = document.querySelector('#settingsModal')\n\n        Object.defineProperties(this, {\n            _showNormal: {\n                value: true,\n                writable: true,\n            },\n\n            _showDeuteranopia: {\n                value: true,\n                writable: true,\n            },\n\n            _showProtanopia: {\n                value: true,\n                writable: true,\n            },\n\n            _showTritanopia: {\n                value: true,\n                writable: true,\n            },\n\n            _showAchromatopsia: {\n                value: false,\n                writable: true,\n            },\n        })\n\n        for (let i = 0; i < this._inputs.length; i++) {\n            const input = this._inputs[i]\n            const target = input.getAttribute('data-target')\n\n            if (input.type === 'checkbox') {\n                input.checked = this[target]\n            } else {\n                input.value = this[target]\n            }\n        }\n\n        this.sync()\n\n        document.querySelector('#saveSettings').addEventListener('click', () => {\n            settings.sync()\n            $(settings._modal).modal('hide')\n        })\n\n        $(this._modal).on('hidden.bs.modal', () => {\n            settings._form.reset()\n        })\n    },\n\n    get state() {\n        let state = 0\n\n        state |= this.showNormal ? 0x01 : 0x00\n        state |= this.showDeuteranopia ? 0x02 : 0x00\n        state |= this.showProtanopia ? 0x04 : 0x00\n        state |= this.showTritanopia ? 0x08 : 0x00\n        state |= this.showAchromatopsia ? 0x10 : 0x00\n\n        return b64[state]\n    },\n\n    set state(v) {\n        const newState = b64.indexOf(v)\n\n        if (newState === -1) return\n\n        this.showNormal = Boolean(newState & 0x01)\n        this.showDeuteranopia = Boolean(newState & 0x02)\n        this.showProtanopia = Boolean(newState & 0x04)\n        this.showTritanopia = Boolean(newState & 0x08)\n        this.showAchromatopsia = Boolean(newState & 0x10)\n    },\n\n    get showNormal() {\n        return this._showNormal\n    },\n\n    set showNormal(v) {\n        this._showNormal = Boolean(v)\n\n        if (this._showNormal) {\n            document.documentElement.classList.remove('hide-normal')\n        } else {\n            document.documentElement.classList.add('hide-normal')\n        }\n    },\n\n    get showDeuteranopia() {\n        return this._showDeuteranopia\n    },\n\n    set showDeuteranopia(v) {\n        this._showDeuteranopia = Boolean(v)\n\n        if (this._showDeuteranopia) {\n            document.documentElement.classList.remove('hide-deuteranopia')\n        } else {\n            document.documentElement.classList.add('hide-deuteranopia')\n        }\n    },\n\n    get showProtanopia() {\n        return this._showProtanopia\n    },\n\n    set showProtanopia(v) {\n        this._showProtanopia = Boolean(v)\n\n        if (this._showProtanopia) {\n            document.documentElement.classList.remove('hide-protanopia')\n        } else {\n            document.documentElement.classList.add('hide-protanopia')\n        }\n    },\n\n    get showTritanopia() {\n        return this._showTritanopia\n    },\n\n    set showTritanopia(v) {\n        this._showTritanopia = Boolean(v)\n\n        if (this._showTritanopia) {\n            document.documentElement.classList.remove('hide-tritanopia')\n        } else {\n            document.documentElement.classList.add('hide-tritanopia')\n        }\n    },\n\n    get showAchromatopsia() {\n        return this._showAchromatopsia\n    },\n\n    set showAchromatopsia(v) {\n        this._showAchromatopsia = Boolean(v)\n\n        if (this._showAchromatopsia) {\n            document.documentElement.classList.remove('hide-achromat')\n        } else {\n            document.documentElement.classList.add('hide-achromat')\n        }\n    },\n\n    sync() {\n        for (let i = 0; i < this._inputs.length; i++) {\n            const input = this._inputs[i]\n            const target = input.getAttribute('data-target')\n\n            if (input.type === 'checkbox') {\n                this[target] = input.checked\n                input.defaultChecked = this[target]\n            } else {\n                this[target] = input.value\n                input.defaultValue = this[target]\n            }\n        }\n\n        document.dispatchEvent(new CustomEvent('updateState'))\n    },\n}\n","/*\n * Code generation functionality.\n */\n\nfunction normalize(s) {\n    return s.toLowerCase()\n        .replace(/ /g, '_')\n}\n\nexport function generateCSSProperties(items) {\n    let ret = ':root {\\n'\n\n    const entry = (item) => `    --${normalize(item.name)}: ${item.bg};\\n    --${normalize(item.name)}-text: ${item.text};\\n`\n\n    for (const item of items) {\n        ret = `${ret}${entry(item)}`\n    }\n\n    ret = `${ret}}`\n\n    return ret\n}\n\nexport function generateCSSClasses(items) {\n    let ret = ''\n\n    const getClass = (item) => `.${normalize(item.name)} {\\n    background-color: ${item.bg};\\n    color: ${item.text};\\n}\\n`\n\n    for (const item of items) {\n        ret = `${ret}${getClass(item)}`\n    }\n\n    return ret\n}\n\nexport function generateSASS(items) {\n    let ret = '$colors = (\\n'\n\n    const getEntry = (item) => `    ${normalize(item.name)}: ${item.bg},\\n    ${normalize(item.name)}-text: ${item.text},\\n`\n\n    for (const item of items) {\n        ret = `${ret}${getEntry(item)}`\n    }\n\n    ret = `${ret})`\n\n    return ret\n}\n\nexport function generateLESS(items) {\n    let ret = ''\n\n    const getEntry = (item) => `@${normalize(item.name)}: ${item.bg};\\n@${normalize(item.name)}-text: ${item.text};\\n`\n\n    for (const item of items) {\n        ret = `${ret}${getEntry(item)}`\n    }\n\n    return ret\n}\n"]}